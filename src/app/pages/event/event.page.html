<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title *ngIf="nameClub != undefined" >{{nameClub}}</ion-title>
    <ion-buttons slot="end">
      <ion-icon style="font-size: 28px;" name="ribbon"></ion-icon>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
<h4 class="title">List Events</h4>
<ion-grid>
  <ion-row *ngFor="let le of listEvent">
    <ion-col col-12 >
      <ion-card >
        <img src="{{le.event.image}}" width="150" height="130" (click)='detailEvent(le,nameClub)'/>
        <ion-card-header (click)='detailEvent(le,nameClub)'>
          <ion-card-title>{{le.event.title}}</ion-card-title>
          <ion-card-subtitle>
            <ion-row>
              <ion-col>
              <ion-label>
                <ion-icon name="time" slot="start"></ion-icon>

                {{le.event.started_date?.substr(0,10)}} at {{le.event.started_date?.substr(11,5)}} PM 
                - {{le.event.ending_date?.substr(11,5)}} AM
              
              </ion-label>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col col-10>
              <ion-label>
                <ion-icon name="pin" slot="start"></ion-icon>
                {{le.event.location['state']}},{{le.event.location['city']}}
              </ion-label>
              </ion-col>
              <ion-col col-2 class="ion-text-right">
                <ion-label >
                  <a >Show Map</a>
                </ion-label>
                </ion-col>
              </ion-row>
            
          </ion-card-subtitle>
        </ion-card-header>
        <ion-card-content (click)='detailEvent(le,nameClub)'>

          <div>
            {{trimString(le.event.description,70)}}
          </div>
          <!--
            <div *ngIf="!le.showMore">
            {{trimString(le.description,70)}}
          </div>
            <div *ngIf="le.showMore">
            {{le.description}}
          </div>
          <a (click)="le.showMore = !le.showMore">Show <span [innerHtml]="le.showMore ? 'less' : 'More'">  </span>
          </a>-->
        </ion-card-content>
        <ion-footer>
          <ion-row>
            <ion-col center class="ion-text-center" >
              <!--button intersted-->
              <ion-button *ngIf="le.user_action === 'interested'" fill="solid" size="small"  color="primary" (click)='presentActionSheet(le.event.id)'>
                <ion-icon  name="star"></ion-icon>
                <div >{{le.user_action}}</div>
              
              </ion-button>
              <!--button going-->
              <ion-button *ngIf="le.user_action === 'going'" fill="solid" size="small"  color="primary" (click)='presentActionSheet(le.event.id)'>
                <ion-icon  name="checkmark-circle"></ion-icon>
                <div>{{le.user_action}}</div>
              </ion-button>
              <!--button not going-->
              <ion-button *ngIf="le.user_action === 'not_going'" fill="solid" size="small"  color="primary" (click)='presentActionSheet(le.event.id)'>
                <ion-icon name="close"></ion-icon>
                <div>Not Going</div>
                </ion-button>
              <!--button default-->
              <ion-button *ngIf="!le.user_action" fill="outline" size="small"  color="secondary" (click)='presentActionSheet(le.event.id)'>
                <ion-icon name="star"></ion-icon>
                <div> Interest Now</div>
              </ion-button>

            </ion-col>
            <ion-col center 
             class="ion-text-center">
              <ion-button
              *ngIf="le.event.avaible_for_booking && le.total_person_booking < le.event.max_number_for_booking"
              fill="outline" size="small"  color="secondary" (click)='booking(le.event.id,le.event.club_id,nameClub,le.event.started_date?.substr(0,4),le.event.started_date?.substr(5,2))'>
                <ion-icon name="text"></ion-icon>
                <div>Book Now</div>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-footer>
      </ion-card>
    </ion-col>
  </ion-row>
  </ion-grid>



</ion-content>
